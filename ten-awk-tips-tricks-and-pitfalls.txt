working from http://www.catonmat.net/blog/ten-awk-tips-tricks-and-pitfalls/



